<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Battle city</title>
  </head>
  <body>
    <script src="../engine/core/Loader.js"></script>
    <script src="../engine/core/Renderer.js"></script>
    <script src="../engine/Sprite.js"></script>
    <script src="../engine/Container.js"></script>

    <script>
      let sprite = null;
      const { Loader, Renderer, Sprite } = GameEngine;
      Loader.loadImage("static/persik.png");

      const loader = new Loader();
      const renderer = new Renderer({
        width: 500,
        height: 500,
        background: "gray",
        canvasStyle: {
          border: "5px solid",
        },
        update(timestamp) {
          if (!sprite) {
            return;
          }
          // sprite.x = this.canvas.width / 5 + 100 * Math.cos(timestamp / 100);
          // sprite.y = this.canvas.height / 5 + 100 * Math.sin(timestamp / 100);

          // sprite.frame.x =
          //   this.canvas.width / 4 + 100 * Math.cos(timestamp / 100);
          // sprite.frame.y =
          //   this.canvas.height / 4 + 100 * Math.sin(timestamp / 100);
        },
      });

      loader.addImage("persik", "static/persik.png");
      loader.addJson("presons", "static/persons.json");
      loader.load(() => {
        sprite = new Sprite(loader.getImage("persik"), {
          scale: 0.5,
          anchorX: 0.5,
          anchorY: 0.5,
        });
        sprite.absoluteX = 0
        sprite.absoluteY = 0
        renderer.stage.add(sprite);

        // sprite.width = 400;
        // sprite.height = 400;
      });
      // Renderer example
      document.body.append(renderer.canvas);
    </script>
  </body>
</html>
